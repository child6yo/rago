<div align="center">
  <img src="etc/assets/gopher.png" width="180" />
</div>

<h1 align="center">üß† RAGO ‚Äî –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è RAG-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–∞ Go</h1>

<p align="center" style="color: #666;">
  <em>–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Apache Kafka –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, Ollama –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ, –±—ã—Å—Ç—Ä–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LLM, Qdrant –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥–∏–±–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ Prometheus+Grafana –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∏ –∏—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.</em>
</p>

--- 
> **üöÄ Key Features**  
> - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ  
> - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM (Ollama)  
> - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
> - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Prometheus + Grafana  
> - –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ —á–µ—Ä–µ–∑ Apache Kafka  
---

### ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ù–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —ç—Ç–æ –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –Ω–µ –≥–æ—Ç–æ–≤—ã–π –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –±—É–¥—É—â–µ–º.

## ‚öôÔ∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –†–µ—Å—É—Ä—Å          | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ       |
|-----------------|------------------|
| **RAM**         | 8 GB             |
| **–î–∏—Å–∫**        | 4 GB             |
| **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**   | x86-64           |


## üìñ –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**](https://github.com/child6yo/rago/edit/main/README.md#-%D0%B1%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9-%D1%81%D1%82%D0%B0%D1%80%D1%82)
- [üéÆ **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã**](#-–ø—Ä–∏–º–µ—Ä-—Ä–∞–±–æ—Ç—ã)
- [üèó **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [üìö **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**](api-gateway\docs\API_REF.md)


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç 

### –ó–∞–ø—É—Å–∫
#### Makefile
```
make build
make run
```
#### Docker Compose
```
docker-compose up -d --build
```

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –∑–∞–ø—É—â–µ–Ω–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–æ—Ç 3-—Ö –¥–æ 10 –º–∏–Ω—É—Ç). –í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ Ollama –∑–∞–≥—Ä—É–∂–∞–µ—Ç —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏.

–î–∞–ª–µ–µ Web-API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É **localhost:8080**. [**API Reference (WIP)**](api-gateway/docs/openapi.yaml).

–î–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
 - –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
 - —Å–æ–∑–¥–∞—Ç—å API-–∫–ª—é—á
 - –∏–º–µ—è API-–∫–ª—é—á –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ [—Å–∫—Ä–∏–ø—Ç](examples/load_data/load_data.py)

–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π UI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É **localhost:80**.

## üéÆ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–∫–µ–Ω –∑–∞ —Ç–æ–∫–µ–Ω–æ–º, –∫–∞–∫ –∏ –Ω–∞ –≤—Å–µ—Ö LLM-–∫–ª–∏–µ–Ω—Ç–∞—Ö.

![alt text](etc/assets/example.png)

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### API Gateway
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Gin, Prometheus (–º–µ—Ç—Ä–∏–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤)
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è RESTful –∑–∞–ø—Ä–æ—Å–æ–≤
  - **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

#### User Service
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –¥–æ—Å—Ç—É–ø–æ–º
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API-–∫–ª—é—á–∞–º–∏
  - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

#### Generator Service
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: 
  - LLM (Ollama —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏)
  - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: Prometheus –¥–ª—è –º–µ—Ç—Ä–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

#### Splitter Service
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ü—É–ª –≥–æ—Ä—É—Ç–∏–Ω –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### Storage Service
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞–±–æ—Ç–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**:
  - Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
  - Ollama (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤)
  - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: Prometheus –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
    
### –û–±—â–∞—è —Å—Ö–µ–º–∞ —Å–≤—è–∑–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

<img src="etc/assets/common.png" width="400" style="flex-shrink: 0;">

### –ü–∞–π–ø–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
 1. –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:

        –ö–ª–∏–µ–Ω—Ç ‚Üí API Gateway (REST)
        –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –≤ Kafka (raw-docs)

2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:

        Splitter Service:
         - –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –∏–∑ raw-docs
         - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (worker pool), —Ä–∞–∑–¥–µ–ª—è–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ  –¥–æ–∫—É–º–µ–Ω—Ç—ã
         - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ document-topic (–±—É–¥–µ—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –≤ processed-docs)

3. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:

        Storage Service:
          - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
          - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Qdrant

### –°—Ö–µ–º–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

<img src="etc/assets/data_load.png" width="500" style="flex-shrink: 0;">

### –ü–∞–π–ø–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
 1. –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:

        –ö–ª–∏–µ–Ω—Ç ‚Üí API Gateway (REST)

2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

        Generation Service:
         - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ Storage Service –Ω–∞ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
         - –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç gRPC-–ø–æ—Ç–æ–∫ —Å API Gateway.

3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è:

        - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–≥–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç
        - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ ollama —á–µ—Ä–µ–∑ langchaingo, –Ω–∞—á–∏–Ω–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–æ–≤
        - —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ gRPC –ø–æ—Ç–æ–∫ –Ω–∞ API Gateway
        - API Gateway —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

### –°—Ö–µ–º–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
<img src="etc/assets/generation.png" width="500" style="flex-shrink: 0;">
